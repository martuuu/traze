module.exports=[61792,a=>{"use strict";var b=a.i(87924),c=a.i(187),d=a.i(89736);let e=(0,c.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-emerald-100 text-emerald-800",warning:"border-transparent bg-amber-100 text-amber-800",error:"border-transparent bg-red-100 text-red-800"}},defaultVariants:{variant:"default"}});function f({className:a,variant:c,...f}){return(0,b.jsx)("div",{className:(0,d.cn)(e({variant:c}),a),...f})}a.s(["Badge",()=>f])},23821,a=>{"use strict";let b=(0,a.i(70106).default)("droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);a.s(["Droplets",()=>b],23821)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},41675,a=>{"use strict";let b=(0,a.i(70106).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],41675)},17201,a=>{"use strict";let b=(0,a.i(70106).default)("trash",[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash",()=>b],17201)},51933,a=>{"use strict";let b=(0,a.i(70106).default)("scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);a.s(["Scissors",()=>b],51933)},79360,24569,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);a.s(["MoreVertical",()=>c],79360);let d=(0,b.default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);a.s(["Edit",()=>d],24569)},77574,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(6893),e=a.i(91868),f=a.i(59162),g=a.i(61792),h=a.i(47340),i=a.i(55742),j=a.i(87532),k=a.i(15618),l=a.i(69012),m=a.i(79360),n=a.i(24569),o=a.i(17201),p=a.i(23821),q=a.i(51933),r=a.i(70106);let s=(0,r.default)("arrow-right-left",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);var t=a.i(41675);let u=(0,r.default)("leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);var v=a.i(17545),w=a.i(89736),x=a.i(30801);let y={Floración:"bg-purple-100 text-purple-700 border-purple-200",Vegetativo:"bg-emerald-100 text-emerald-700 border-emerald-200",Secado:"bg-amber-100 text-amber-700 border-amber-200"};function z(){let[a,r]=(0,c.useState)([]),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)(null),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)({name:"",genetic:"",location:"",startDate:""});(0,c.useEffect)(()=>{r((0,x.getLotes)())},[]);let H=a.filter(a=>a.name.toLowerCase().includes(z.toLowerCase())||a.genetic.toLowerCase().includes(z.toLowerCase())),I=(a,b)=>{C({type:a,loteId:b})};return(0,b.jsxs)("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 pb-20",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Lotes de Cultivo"}),(0,b.jsx)("p",{className:"text-slate-500",children:"Gestión agrupada de plantas y acciones masivas."})]}),(0,b.jsxs)(e.Button,{onClick:()=>E(!0),className:"bg-slate-900 hover:bg-slate-800 text-white font-bold shadow-lg shadow-slate-900/20",children:[(0,b.jsx)(k.Plus,{className:"mr-2 h-4 w-4"})," Crear Nuevo Lote"]})]}),(0,b.jsx)(d.Card,{className:"border-slate-100 shadow-sm sticky top-4 z-20",children:(0,b.jsxs)(d.CardContent,{className:"p-4 flex flex-col md:flex-row gap-4 justify-between items-center",children:[(0,b.jsxs)("div",{className:"relative w-full md:w-96",children:[(0,b.jsx)(j.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 h-4 w-4"}),(0,b.jsx)(f.Input,{placeholder:"Buscar por nombre o genética...",className:"pl-10 bg-slate-50 border-slate-200",value:z,onChange:a=>A(a.target.value)})]}),(0,b.jsxs)("div",{className:"flex gap-2 w-full md:w-auto",children:[(0,b.jsxs)(e.Button,{variant:"outline",className:"border-slate-200 text-slate-600 flex-1 md:flex-none",children:[(0,b.jsx)(l.Filter,{className:"mr-2 h-4 w-4"})," Estado"]}),(0,b.jsxs)(e.Button,{variant:"outline",className:"border-slate-200 text-slate-600 flex-1 md:flex-none",children:[(0,b.jsx)(t.Calendar,{className:"mr-2 h-4 w-4"})," Fecha"]})]})]})}),(0,b.jsx)("div",{className:"space-y-4",children:H.map(a=>(0,b.jsx)(d.Card,{className:"border-slate-100 shadow-sm hover:shadow-md transition-all duration-300 group overflow-hidden",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row items-stretch",children:[(0,b.jsx)("div",{className:(0,w.cn)("w-full md:w-2 h-2 md:h-auto","Floración"===a.stage?"bg-purple-500":"Vegetativo"===a.stage?"bg-emerald-500":"bg-amber-500")}),(0,b.jsxs)("div",{className:"flex-1 p-6 flex flex-col gap-6",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"h-12 w-12 rounded-xl bg-slate-100 flex items-center justify-center shrink-0 font-black text-slate-400 border border-slate-200",children:a.id.substring(1)}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-black text-slate-900 group-hover:text-emerald-700 transition-colors",children:a.name}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-500 font-medium",children:[(0,b.jsx)(u,{size:14,className:"text-emerald-500"}),a.genetic,(0,b.jsx)("span",{className:"text-slate-300",children:"•"}),(0,b.jsx)("span",{className:"text-slate-500",children:a.location})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(g.Badge,{variant:"outline",className:(0,w.cn)("px-3 py-1 font-bold",y[a.stage]||"bg-slate-100"),children:a.stage}),(0,b.jsxs)(h.Dropdown,{trigger:(0,b.jsx)(e.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400 hover:text-slate-600",children:(0,b.jsx)(m.MoreVertical,{size:16})}),children:[(0,b.jsxs)(h.DropdownItem,{onClick:()=>I("edit",a.id),children:[(0,b.jsx)(n.Edit,{size:16})," Editar Lote"]}),(0,b.jsxs)(h.DropdownItem,{children:[(0,b.jsx)(o.Trash,{size:16,className:"text-red-500"})," Eliminar"]})]})]})]}),(0,b.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6 pt-4 border-t border-slate-50",children:[(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-8 w-full md:w-auto",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-black text-slate-900",children:a.plants}),(0,b.jsx)("p",{className:"text-[10px] uppercase font-bold text-slate-400",children:"Plantas Vivas"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-bold text-slate-700",children:a.startDate}),(0,b.jsx)("p",{className:"text-[10px] uppercase font-bold text-slate-400",children:"Fecha Inicio"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-bold text-emerald-600 truncate",children:a.lastAction}),(0,b.jsx)("p",{className:"text-[10px] uppercase font-bold text-slate-400",children:"Última Acción"})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 w-full md:w-auto",children:[(0,b.jsxs)(e.Button,{variant:"secondary",size:"sm",className:"bg-blue-50 text-blue-700 hover:bg-blue-100 border border-blue-100 font-bold",onClick:()=>I("regar",a.id),children:[(0,b.jsx)(p.Droplets,{size:14,className:"mr-2"})," Regar"]}),(0,b.jsxs)(e.Button,{variant:"secondary",size:"sm",className:"bg-amber-50 text-amber-700 hover:bg-amber-100 border border-amber-100 font-bold",onClick:()=>I("podar",a.id),children:[(0,b.jsx)(q.Scissors,{size:14,className:"mr-2"})," Podar"]}),(0,b.jsxs)(e.Button,{variant:"secondary",size:"sm",className:"bg-purple-50 text-purple-700 hover:bg-purple-100 border border-purple-100 font-bold",onClick:()=>I("mover",a.id),children:[(0,b.jsx)(s,{size:14,className:"mr-2"})," Mover"]})]})]})]})]})},a.id))}),(0,b.jsx)(i.Dialog,{isOpen:D,onClose:()=>E(!1),title:"Nuevo Lote de Cultivo",description:"Se creará un nuevo grupo de seguimiento para plantas.",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-bold text-slate-700 block",children:"Nombre del Lote"}),(0,b.jsx)(f.Input,{placeholder:"Ej. Verano 2024 - A",value:F.name,onChange:a=>G({...F,name:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-bold text-slate-700 block",children:"Genética Principal"}),(0,b.jsx)(f.Input,{placeholder:"Ej. Blue Dream",value:F.genetic,onChange:a=>G({...F,genetic:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-bold text-slate-700 block",children:"Ubicación Inicial"}),(0,b.jsx)(f.Input,{placeholder:"Ej. Sala A",value:F.location,onChange:a=>G({...F,location:a.target.value})})]}),(0,b.jsxs)(e.Button,{onClick:()=>{F.name&&(r([(0,x.createLote)({name:F.name,genetic:F.genetic,location:F.location,startDate:new Date().toISOString().split("T")[0],stage:"Vegetativo"}),...a]),G({name:"",genetic:"",location:"",startDate:""}),E(!1))},className:"w-full bg-slate-900 hover:bg-slate-800 font-bold",disabled:!F.name.trim(),children:[(0,b.jsx)(v.Layers,{className:"mr-2 h-4 w-4"})," Crear Lote"]})]})}),(0,b.jsx)(i.Dialog,{isOpen:!!B,onClose:()=>C(null),title:`Acci\xf3n Masiva: ${B?.type==="regar"?"Registro de Riego":B?.type==="mover"?"Mover Plantas":"Registrar Poda"}`,description:"Esta acción afectará a TODAS las plantas vivas de este lote.",children:(0,b.jsxs)("div",{className:"space-y-4",children:[B?.type==="regar"&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"p-3 bg-blue-50 border border-blue-100 rounded-xl text-sm text-blue-700 mb-4",children:["Se registrará un evento de Riego para ",(0,b.jsx)("strong",{children:"145 Plantas"}),"."]}),(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-bold text-slate-700 block mb-1",children:"Volumen Total (Litros)"}),(0,b.jsx)(f.Input,{type:"number",placeholder:"Ej. 200"})]})})]}),(0,b.jsx)("div",{className:"pt-4 flex gap-2",children:(0,b.jsx)(e.Button,{className:"w-full bg-slate-900 font-bold",onClick:()=>C(null),children:"Confirmar Acción Masiva"})})]})})]})}a.s(["default",()=>z],77574)}];

//# sourceMappingURL=_b080c8e8._.js.map